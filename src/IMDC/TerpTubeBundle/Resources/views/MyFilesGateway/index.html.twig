{% extends "IMDCTerpTubeBundle:Default:index.html.twig" %}
{% trans_default_domain 'IMDCTerpTubeBundle' %}
{% block title %}My Files{% endblock title %}

{% block nav_ul_authenticated_my_files %}<li class="active">{% endblock %}

{% block herounit %}
<h1>{{ 'filesGateway.title'|trans }}</h1>
{% endblock herounit %}

{% block underherounitrow1 %}
    <div class="row-fluid">
        <a class="btn btn-primary" href="{{ path('imdc_files_gateway_audio') }}"><i class="icon-music"></i> {{ 'filesGateway.buttons.audio'|trans }}</a>
        <a class="btn btn-primary" href="{{ path('imdc_files_gateway_video') }}"><i class="icon-film"></i> {{ 'filesGateway.buttons.video'|trans }}</a>
        <a class="btn btn-primary" href="{{ path('imdc_files_gateway_image') }}"><i class=" icon-picture"></i> {{ 'filesGateway.buttons.image'|trans }}</a>
        <a class="btn btn-primary" href="{{ path('imdc_files_gateway_record') }}"><i class="icon-facetime-video"></i> {{ 'filesGateway.buttons.record'|trans }}</a>
        <a class="btn btn-primary" href="{{ path('imdc_files_gateway_other') }}"><i class="icon-file-text"></i> {{ 'filesGateway.buttons.other'|trans }}</a>
    </div>

{% endblock underherounitrow1 %}

{% block underherounitrow2 %}
<div class="row-fluid">
	<div class="span-9">
            <table class="table table-condensed table-hover table-striped pmtable">
                <tr><th><i class="icon-wrench"></i> Tools</th><th>Name</th><th>Type</th><th>Created</th><th>Size</th></tr>
				{%  if resourceFiles and resourceFiles|length >0 %}
						{% for resourceFile in resourceFiles %}
                   	<tr>
                        <td>
                            <a href="{{ path('imdc_files_gateway_remove', {'mediaId': resourceFile.id}) }}" data-val="{{ resourceFile.id }}"><i class="icon-remove-sign"></i>Delete</a>
                        </td>
                        <td>
                        	{{ resourceFile.title }}
                        </td>
                        <td>
                        	{{ ('filesGateway.type.'~resourceFile.type)|trans }}
                        </td>
                        <td>{{ resourceFile.getMetaData.getTimeUploaded|date('g:ia M j') }}</td>
                        <td>{{ '%.2f' |format(resourceFile.getMetaData.getSize / 1024 /1024)  }}MB</td>
                    </tr>
                    {% endfor %}
                {% else %}
                    <tr>{{  'filesGateway.noFiles'|trans }}</tr>
                {% endif %}
            </table>
	
	</div>
{% endblock underherounitrow2 %}