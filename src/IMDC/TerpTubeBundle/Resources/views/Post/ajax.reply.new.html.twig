{#{% include 'IMDCTerpTubeBundle:Post:view.html.twig' %}#}

{% set newPost = {id: random()} %}
{% include 'IMDCTerpTubeBundle:Post:reply.html.twig' %}

<script type="text/javascript">
    require(['bootstrap', 'controller/post_', 'views/post', 'core/helper', 'main'], function(bootstrap, Post, PostView, Helper) {
        var $newPost = $(PostView.Binder.CONTAINER + "[data-pid={{ newPost.id }}]");
        bootstrap(
                {
                    id: $newPost.data("pid"),
                    startTime: $newPost.data("starttime"),
                    endTime: $newPost.data("endtime"),
                    isTemporal: $newPost.data("istemporal"),
                    threadId: "{{ post.parentThread.id|default(null) }}",
                    parentPostId: "{{ post.id|default(null) }}"
                },
                Post,
                PostView,
                {}
        );

        Helper.autoSize();
    });
</script>
