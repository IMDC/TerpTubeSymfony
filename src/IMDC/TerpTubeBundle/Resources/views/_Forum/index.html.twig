{% extends 'IMDCTerpTubeBundle:_Base:base.html.twig' %}

{% block title %}Forums{% endblock title %}

{% block sidebarlinks_pages %}class="active"{% endblock %}

{% block content %}
	<div class="col-md-12">
		{% if is_granted('ROLE_CREATE_FORUMS') %}
			<!--<div class="row">
			<div class="col-md-2">
				<form class="form">
					<div class="form-group">
						<div class="input-group">
							<input class="form-control" type="text" placeholder="Search forums...">
							<div class="input-group-addon" type"submit"><i class="fa fa-search"></i></div>
						</div>
					</div>
				</form>
			</div>
		</div>-->
			<div class="row">
				<div class="col-md-12">
					<p>
						<a class="btn btn-default" href="{{ path('imdc_forum_create_new') }}"><i class="fa fa-plus"></i> Create New Forum</a>
					</p>
				</div>
			</div>
		{% endif %}
		<!-- recent forum activity -->
		<div class="row">
			<div class="col-md-offset-1 col-md-10">
				<img class="img-responsive center-block" src="" />
			</div>
		</div>
		<div class="row">
			<div class="col-md-offset-1 col-md-10">
				<hr class="tt-separator-top" />
				{% if recentForums|length > 0 %}
					{% include 'IMDCTerpTubeBundle:_Forum:thumbnail.html.twig' with {'forums': recentForums} %}
				{% else %}
					<p class="text-center" style="margin-bottom: 20px;">No recent forums</p>
				{% endif %}
				<hr class="tt-separator-bottom" />
			</div>
		</div>
		<!-- all forums -->
		<div class="row">
			<div class="col-md-offset-1 col-md-10">
				<img class="img-responsive center-block" src="" />
			</div>
		</div>
		<div class="row">
			<div class="col-md-offset-1 col-md-10">
				<hr class="tt-separator-top" />
                {% if forums|length > 0 %}
                    <ul class="list-unstyled list-inline">
                        {% set pagParams = forums.getParams %}
                        <li><strong>Sort By: </strong></li>
                        <li>{{ knp_pagination_sortable(forums, 'Last Activity', 'f.lastActivity') }}{% if forums.isSorted('f.lastActivity') and 'desc' in pagParams %} <i class="fa fa-sort-down"></i> {% elseif forums.isSorted('f.lastActivity') and 'asc' in pagParams %}<i class="fa fa-sort-up"></i> {% endif %}</li>
                        <li> | </li>
                        <li>{{ knp_pagination_sortable(forums, 'Title', 'f.titleText') }}{% if forums.isSorted('f.titleText') and 'desc' in pagParams %} <i class="fa fa-sort-down"></i> {% elseif forums.isSorted('f.titleText') and 'asc' in pagParams %}<i class="fa fa-sort-up"></i> {% endif %}</li>
                        <li> | </li>
                        <li>{{ knp_pagination_sortable(forums, 'Date Created', 'f.creationDate') }}{% if forums.isSorted('f.creationDate') and 'desc' in pagParams %} <i class="fa fa-sort-down"></i> {% elseif forums.isSorted('f.creationDate') and 'asc' in pagParams %}<i class="fa fa-sort-up"></i> {% endif %}</li>
                    </ul>
					{% include 'IMDCTerpTubeBundle:_Forum:thumbnail.html.twig' %}
				{% else %}
					<p class="text-center" style="margin-bottom: 20px;">No forums</p>
				{% endif %}
				<hr class="tt-separator-bottom" />
			</div>
		</div>
		<div class="row">
			<div class="col-md-offset-1 col-md-10">
				{{ knp_pagination_render(forums) }}
			</div>
		</div>
	</div>
{% endblock content %}
