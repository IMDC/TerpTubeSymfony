{% extends 'IMDCTerpTubeBundle:Base:base.html.twig' %}

{% trans_default_domain 'IMDCTerpTubeBundle' %}

{% use 'IMDCTerpTubeBundle:Form:fields.html.twig' %}

{% import 'IMDCTerpTubeBundle:MyFiles:macros.html.twig' as _my_files %}

{% block title %}{{ 'filesGateway.title'|trans }}{% endblock %}

{% block header %}
    {{ parent() }}

    <script type="text/javascript">
        require([
            'bootstrap',
            'controller/myFilesController', 'views/myFiles/listView',
            'main'
        ], function(bootstrap, MyFilesController, MyFilesView) {
            bootstrap(
                    {},
                    MyFilesController,
                    MyFilesView,
                    {
                        container: $('body')
                    }
            );
        });
    </script>
{% endblock header %}

{% block nav_ul_authenticated_my_files %}class="active"{% endblock %}

{% block content %}
    <div class="col-md-12">
        <div class="row">
            <div class="col-md-12">
                {% set isFileSelection = false %}
                {{ block('media_chooser_widget') }}
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                {{ _my_files.list_files(style, media) }}
            </div>
        </div>
    </div>
{% endblock content %}
